\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{csquotes}
\usepackage{mathrsfs} % mathscr
\usepackage{mathtools}
\usepackage{booktabs}
\usepackage{xspace}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{rotating}
\usepackage{nicematrix}
\usepackage{minted}
\usepackage{nicefrac}
\usepackage[ruled,vlined,linesnumbered,algochapter]{algorithm2e}
\renewcommand\AlCapFnt{\sffamily\small\bfseries}
\renewcommand\AlCapNameFnt{\sffamily\small}

\usepackage{marvosym} % Lightning symbol

% Restateable theorems
\usepackage{thmtools}
\usepackage{thm-restate}

\newminted{python}{
	python3,
	fontsize=\small,
	bgcolor=WhiteSmoke,
    rulecolor=WhiteSmoke,
    frame=single,
    framesep=2.5pt,
    xleftmargin=2.5pt,
    xrightmargin=2.5pt,
    tabsize=4,
    style=srinivasa,
}

\usepackage[labelfont={small,bf,sf},textfont={small,sf}]{caption}
\DeclareCaptionStyle{ruled}{labelfont={small,bf,sf},textfont={small,sf}}
\usepackage{subcaption}

% Setup Bibtex

\usepackage[
	style=authoryear,
	uniquename=false,
	maxbibnames=9,
	mincitenames=1,
	maxcitenames=1,
	citetracker=true,
	natbib=true,
	sorting=nyt,
	date=year,
	eprint=false,
	hyperref=true,
	backref=false]{biblatex}
\setlength{\bibnamesep}{0.5em}

% See https://tex.stackexchange.com/a/478787
\makeatletter
\AtEveryCitekey{%
  \ifciteseen
    {}
    {\defcounter{maxnames}{3}}%
}
\makeatother

% See https://tex.stackexchange.com/a/424775
\renewbibmacro*{doi+eprint+url}{%
    \printfield{doi}%
    \newunit\newblock%
    \iftoggle{bbx:eprint}{%
        \usebibmacro{eprint}%
    }{}%
    \newunit\newblock%
    \iffieldundef{doi}{%
        \usebibmacro{url+urldate}}%
        {}%
    }

\usepackage{siunitx}

%\DefineBibliographyStrings{english}{%
%  backrefpage = {cited on page~},
%  backrefpages = {cited on pages~},
%}

\DeclareFieldFormat{citehyperref}{%
  \DeclareFieldAlias{bibhyperref}{noformat}% Avoid nested links
  \bibhyperref{#1}}

\DeclareFieldFormat{textcitehyperref}{%
  \DeclareFieldAlias{bibhyperref}{noformat}% Avoid nested links
  \bibhyperref{%
    #1%
    \ifbool{cbx:parens}
      {\bibcloseparen\global\boolfalse{cbx:parens}}
      {}}}


\definecolor{linkBlue}{HTML}{003399}
\definecolor{linkGreen}{HTML}{2E8B57} % SeaGreen

\usepackage{hyperref} % with basic options
\hypersetup{
    pdfborder={0 0 0},
    plainpages=false,
    unicode=true,
    colorlinks=false,
    colorlinks=true,
    allcolors=linkBlue,
    citecolor=linkGreen
}
\usepackage{cleveref}

%\usepackage[toc,acronyms,symbols,nopostdot]{glossaries} % Glossary.
%\usepackage{glossaries-extra}
\usepackage{glossaries}
\usepackage{glossary-mcols}

\renewcommand\thesubfigure{\Alph{subfigure}}

\declaretheorem[numberwithin=chapter]{theorem}
\declaretheorem[name=Claim,sibling=theorem]{claim}
\declaretheorem[name=Conjecture,sibling=theorem]{conjecture}
\declaretheorem[name=Proposition,sibling=theorem]{proposition}
\declaretheorem[name=Lemma,sibling=theorem]{lemma}

\declaretheoremstyle[
	headfont=\normalfont\bfseries,
	notefont=\normalfont,
	notebraces={(}{)},
	bodyfont=\normalfont,
]{veryplainstyle}
\declaretheorem[name=Example,numberwithin=chapter,style=veryplainstyle]{example}

\declaretheorem[name=Definition,numberwithin=chapter]{definition}
